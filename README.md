1. Giá»›i thiá»‡u

Dá»± Ã¡n Calorie Tracker nháº±m há»— trá»£ ngÆ°á»i dÃ¹ng theo dÃµi lÆ°á»£ng nÄƒng lÆ°á»£ng náº¡p vÃ o vÃ  tiÃªu hao hÃ ng ngÃ y, dá»±a trÃªn cÃ¡c kiáº¿n thá»©c y khoa chuáº©n vá» chuyá»ƒn hÃ³a cÆ¡ báº£n (BMR), tá»•ng nÄƒng lÆ°á»£ng tiÃªu hao hÃ ng ngÃ y (TDEE), vÃ  má»¥c tiÃªu nÄƒng lÆ°á»£ng dá»±a trÃªn cháº¿ Ä‘á»™ Äƒn vÃ  hoáº¡t Ä‘á»™ng thá»ƒ cháº¥t.

CÃ¡c kiáº¿n thá»©c nÃ y Ä‘Æ°á»£c tÃ­ch há»£p trá»±c tiáº¿p vÃ o há»‡ thá»‘ng qua cÃ¡c model, service vÃ  API, giÃºp ngÆ°á»i dÃ¹ng nháº­n Ä‘Æ°á»£c dá»¯ liá»‡u cÃ¡ nhÃ¢n hÃ³a vá» nÄƒng lÆ°á»£ng, tá»« Ä‘Ã³ há»— trá»£ quyáº¿t Ä‘á»‹nh cháº¿ Ä‘á»™ Äƒn uá»‘ng vÃ  hoáº¡t Ä‘á»™ng thá»ƒ cháº¥t há»£p lÃ½.

2. CÃ¡c kiáº¿n thá»©c y khoa Ã¡p dá»¥ng
2.1. Basal Metabolic Rate (BMR)

Äá»‹nh nghÄ©a:
BMR lÃ  lÆ°á»£ng nÄƒng lÆ°á»£ng cÆ¡ thá»ƒ cáº§n Ä‘á»ƒ duy trÃ¬ cÃ¡c chá»©c nÄƒng cÆ¡ báº£n khi nghá»‰ ngÆ¡i (hÃ´ háº¥p, tuáº§n hoÃ n, trao Ä‘á»•i cháº¥t, duy trÃ¬ nhiá»‡t Ä‘á»™ cÆ¡ thá»ƒ).

CÃ´ng thá»©c tÃ­nh:
Trong dá»± Ã¡n, sá»­ dá»¥ng Mifflin-St Jeor Equation, má»™t cÃ´ng thá»©c Ä‘Æ°á»£c cÃ´ng nháº­n trong y khoa hiá»‡n Ä‘áº¡i:

Nam:

ğµ
ğ‘€
ğ‘…
=
10
Ã—
c
a
Ë†
n náº·ng (kg)
+
6.25
Ã—
chi
e
Ë†
Ë‹
u cao (cm)
âˆ’
5
Ã—
tuá»•i (n
a
Ë˜
m)
+
5
BMR=10Ã—c
a
Ë†
n náº·ng (kg)+6.25Ã—chi
e
Ë†
Ë‹
u cao (cm)âˆ’5Ã—tuá»•i (n
a
Ë˜
m)+5

Ná»¯:

ğµ
ğ‘€
ğ‘…
=
10
Ã—
c
a
Ë†
n náº·ng (kg)
+
6.25
Ã—
chi
e
Ë†
Ë‹
u cao (cm)
âˆ’
5
Ã—
tuá»•i (n
a
Ë˜
m)
âˆ’
161
BMR=10Ã—c
a
Ë†
n náº·ng (kg)+6.25Ã—chi
e
Ë†
Ë‹
u cao (cm)âˆ’5Ã—tuá»•i (n
a
Ë˜
m)âˆ’161

Triá»ƒn khai trong dá»± Ã¡n:

Dá»¯ liá»‡u chiá»u cao, cÃ¢n náº·ng vÃ  ngÃ y sinh láº¥y tá»« báº£ng UserProfile vÃ  UserProfileWeightHistory.

Náº¿u ngÆ°á»i dÃ¹ng chÆ°a cÃ³ lá»‹ch sá»­ cÃ¢n náº·ng, BMR tráº£ vá» 0 Ä‘á»ƒ trÃ¡nh lá»—i tÃ­nh toÃ¡n.

BMR Ä‘Æ°á»£c lÆ°u trong trÆ°á»ng base_calorie_out cá»§a DailyEnergyLog.

Ã nghÄ©a y khoa: BMR lÃ  ná»n táº£ng Ä‘á»ƒ tÃ­nh nÄƒng lÆ°á»£ng cáº§n thiáº¿t, giÃºp cÃ¡ nhÃ¢n hÃ³a káº¿ hoáº¡ch dinh dÆ°á»¡ng vÃ  trÃ¡nh nguy cÆ¡ dÆ° thá»«a hoáº·c thiáº¿u nÄƒng lÆ°á»£ng.

2.2. Total Daily Energy Expenditure (TDEE)

Äá»‹nh nghÄ©a:
TDEE lÃ  tá»•ng nÄƒng lÆ°á»£ng tiÃªu hao trong ngÃ y, bao gá»“m:

BMR â€“ nÄƒng lÆ°á»£ng cÆ¡ báº£n Ä‘á»ƒ duy trÃ¬ cÆ¡ thá»ƒ lÃºc nghá»‰ ngÆ¡i.

Thermic Effect of Food (TEF) â€“ nÄƒng lÆ°á»£ng tiÃªu hao Ä‘á»ƒ tiÃªu hÃ³a vÃ  háº¥p thá»¥ thá»±c pháº©m (táº¡m tÃ­nh trong tá»•ng calorie in).

Activity Calories â€“ nÄƒng lÆ°á»£ng tiÃªu hao do hoáº¡t Ä‘á»™ng thá»ƒ cháº¥t (hoáº¡t Ä‘á»™ng thá»ƒ thao, sinh hoáº¡t hÃ ng ngÃ y).

Triá»ƒn khai trong dá»± Ã¡n:

TrÆ°á»ng tdee trong DailyEnergyLog lÆ°u giÃ¡ trá»‹ tá»•ng nÄƒng lÆ°á»£ng tiÃªu hao, tÃ­nh toÃ¡n theo:

ğ‘‡
ğ·
ğ¸
ğ¸
=
ğµ
ğ‘€
ğ‘…
Ã—
há»‡ s
o
Ë†
ËŠ
 hoáº¡t Ä‘á»™ng
TDEE=BMRÃ—há»‡ s
o
Ë†
ËŠ
 hoáº¡t Ä‘á»™ng

Há»‡ sá»‘ hoáº¡t Ä‘á»™ng Ä‘Æ°á»£c dá»±a trÃªn ActivityLevelEnum, bao gá»“m:

Hoáº¡t Ä‘á»™ng	Há»‡ sá»‘
Sedentary (Ã­t váº­n Ä‘á»™ng)	1.2
Lightly active (váº­n Ä‘á»™ng nháº¹)	1.375
Moderately active (váº­n Ä‘á»™ng vá»«a)	1.55
Very active (váº­n Ä‘á»™ng nhiá»u)	1.725

NÄƒng lÆ°á»£ng tiÃªu hao tá»« hoáº¡t Ä‘á»™ng cá»¥ thá»ƒ Ä‘Æ°á»£c cá»™ng thÃªm tá»« báº£ng Activity vÃ o activity_calorie_out.

Ã nghÄ©a y khoa: TDEE pháº£n Ã¡nh chÃ­nh xÃ¡c nhu cáº§u nÄƒng lÆ°á»£ng cá»§a cÆ¡ thá»ƒ theo ngÃ y, giÃºp xÃ¡c Ä‘á»‹nh má»©c Äƒn phÃ¹ há»£p Ä‘á»ƒ giáº£m, duy trÃ¬ hoáº·c tÄƒng cÃ¢n.

2.3. Goal-based Calorie Target

Äá»‹nh nghÄ©a:
Má»—i ngÆ°á»i cÃ³ má»¥c tiÃªu nÄƒng lÆ°á»£ng dá»±a trÃªn mong muá»‘n vá» cÃ¢n náº·ng:

Lose weight (giáº£m cÃ¢n): giáº£m ~500 kcal/ngÃ y Ä‘á»ƒ giáº£m ~0.5 kg/tuáº§n.

Maintain (duy trÃ¬ cÃ¢n náº·ng): nÄƒng lÆ°á»£ng náº¡p = TDEE.

Gain weight (tÄƒng cÃ¢n): tÄƒng ~300â€“500 kcal/ngÃ y tÃ¹y má»¥c tiÃªu.

Triá»ƒn khai trong dá»± Ã¡n:

TrÆ°á»ng target_calorie trong DailyEnergyLog lÆ°u giÃ¡ trá»‹ nÃ y.

Má»¥c tiÃªu Ä‘Æ°á»£c tÃ­nh tá»± Ä‘á»™ng dá»±a trÃªn GoalTypeEnum.

Ã nghÄ©a y khoa: Há»— trá»£ láº­p káº¿ hoáº¡ch dinh dÆ°á»¡ng cÃ¡ nhÃ¢n hÃ³a, trÃ¡nh dÆ° thá»«a hoáº·c thiáº¿u nÄƒng lÆ°á»£ng, phÃ¹ há»£p vá»›i tiÃªu chuáº©n an toÃ n giáº£m cÃ¢n / tÄƒng cÃ¢n.

2.4. Tracking Calorie In & Out

Calorie In (náº¡p vÃ o):

Láº¥y tá»« food records, vá»›i cÃ¡c thÃ´ng sá»‘: tÃªn mÃ³n, calorie, sá»‘ lÆ°á»£ng.

TÃ­nh tá»•ng nÄƒng lÆ°á»£ng náº¡p vÃ o total_calorie_in.

Sá»­ dá»¥ng dá»¯ liá»‡u tá»« FOOD_NUTRITION_DB Ä‘á»ƒ Ä‘áº£m báº£o chÃ­nh xÃ¡c vá» dinh dÆ°á»¡ng.

Calorie Out (tiÃªu hao):

Gá»“m BMR + Activity Calories (activity_calorie_out).

Hoáº¡t Ä‘á»™ng thá»ƒ cháº¥t nháº­p vÃ o tá»« ngÆ°á»i dÃ¹ng hoáº·c qua detection (áº£nh thá»©c Äƒn/hoáº¡t Ä‘á»™ng).

Net Calorie (cÃ¢n báº±ng nÄƒng lÆ°á»£ng):

ğ‘
ğ‘’
ğ‘¡
ğ¶
ğ‘
ğ‘™
ğ‘œ
ğ‘Ÿ
ğ‘–
ğ‘’
=
ğ‘‡
ğ‘œ
ğ‘¡
ğ‘
ğ‘™
ğ¶
ğ‘
ğ‘™
ğ‘œ
ğ‘Ÿ
ğ‘–
ğ‘’
ğ¼
ğ‘›
âˆ’
ğµ
ğ‘
ğ‘ 
ğ‘’
ğ¶
ğ‘
ğ‘™
ğ‘œ
ğ‘Ÿ
ğ‘–
ğ‘’
ğ‘‚
ğ‘¢
ğ‘¡
âˆ’
ğ´
ğ‘
ğ‘¡
ğ‘–
ğ‘£
ğ‘–
ğ‘¡
ğ‘¦
ğ¶
ğ‘
ğ‘™
ğ‘œ
ğ‘Ÿ
ğ‘–
ğ‘’
ğ‘‚
ğ‘¢
ğ‘¡
NetCalorie=TotalCalorieInâˆ’BaseCalorieOutâˆ’ActivityCalorieOut

Ã nghÄ©a y khoa:

Net calorie dÆ°Æ¡ng â†’ dÆ° nÄƒng lÆ°á»£ng, cÃ³ thá»ƒ tÄƒng cÃ¢n.

Net calorie Ã¢m â†’ thiáº¿u nÄƒng lÆ°á»£ng, cÃ³ thá»ƒ giáº£m cÃ¢n.

Net calorie â‰ˆ 0 â†’ duy trÃ¬ cÃ¢n náº·ng hiá»‡n táº¡i.

2.5. Age, Gender & Historical Weight

Tuá»•i áº£nh hÆ°á»Ÿng trá»±c tiáº¿p Ä‘áº¿n BMR (ngÆ°á»i giÃ  BMR tháº¥p hÆ¡n).

Giá»›i tÃ­nh: nam giá»›i thÆ°á»ng BMR cao hÆ¡n ná»¯ giá»›i cÃ¹ng cÃ¢n náº·ng vÃ  chiá»u cao.

Lá»‹ch sá»­ cÃ¢n náº·ng: chá»n giÃ¡ trá»‹ cÃ¢n náº·ng gáº§n nháº¥t Ä‘á»ƒ tÃ­nh BMR chÃ­nh xÃ¡c, Ä‘áº·c biá»‡t náº¿u ngÆ°á»i dÃ¹ng thay Ä‘á»•i cÃ¢n náº·ng thÆ°á»ng xuyÃªn.

2.6. Khuyáº¿n nghá»‹ y khoa Ä‘Æ°á»£c Ã¡p dá»¥ng

Sá»­ dá»¥ng cÃ´ng thá»©c chuáº©n y khoa (Mifflin-St Jeor) thay vÃ¬ cÃ´ng thá»©c tÃ¹y Ã½.

TÃ­nh cÃ¡ nhÃ¢n hÃ³a dá»±a trÃªn giá»›i tÃ­nh, tuá»•i, chiá»u cao, cÃ¢n náº·ng.

Cáº­p nháº­t dá»¯ liá»‡u lá»‹ch sá»­ cÃ¢n náº·ng Ä‘á»ƒ BMR vÃ  TDEE chÃ­nh xÃ¡c theo thá»i gian.

Theo dÃµi Net Calorie hÃ ng ngÃ y Ä‘á»ƒ cáº£nh bÃ¡o dÆ°/thiáº¿u nÄƒng lÆ°á»£ng.

Äá»‹nh nghÄ©a cÃ¡c má»©c hoáº¡t Ä‘á»™ng thá»ƒ cháº¥t chuáº©n theo y há»c thá»ƒ thao (sedentary â†’ very active).

TÃ­nh toÃ¡n má»¥c tiÃªu calo dá»±a trÃªn GoalTypeEnum, giÃºp ngÆ°á»i dÃ¹ng an toÃ n giáº£m/gain cÃ¢n.

2.7. Lá»£i Ã­ch lÃ¢m sÃ ng cá»§a dá»± Ã¡n

GiÃºp ngÆ°á»i dÃ¹ng kiá»ƒm soÃ¡t cÃ¢n náº·ng má»™t cÃ¡ch khoa há»c.

Dá»± phÃ²ng bá»‡nh lÃ½ liÃªn quan Ä‘áº¿n thá»«a cÃ¢n/thiáº¿u cÃ¢n: bÃ©o phÃ¬, tiá»ƒu Ä‘Æ°á»ng, loÃ£ng xÆ°Æ¡ng.

Há»— trá»£ cháº¿ Ä‘á»™ Äƒn cÃ¡ nhÃ¢n hÃ³a, trÃ¡nh suy dinh dÆ°á»¡ng hoáº·c Äƒn quÃ¡ nhiá»u.

TÃ­ch há»£p hoáº¡t Ä‘á»™ng thá»ƒ cháº¥t, giÃºp theo dÃµi calo tiÃªu hao thá»±c táº¿.

3. CÃ¡c báº£ng dá»¯ liá»‡u liÃªn quan
Table	Chá»©c nÄƒng
UserProfile	ThÃ´ng tin cÆ¡ báº£n ngÆ°á»i dÃ¹ng: email, giá»›i tÃ­nh, ngÃ y sinh
UserProfileWeightHistory	Lá»‹ch sá»­ cÃ¢n náº·ng Ä‘á»ƒ tÃ­nh BMR chÃ­nh xÃ¡c
DailyEnergyLog	LÆ°u log nÄƒng lÆ°á»£ng hÃ ng ngÃ y: calorie in, BMR, TDEE, activity out, target calorie
FoodRecord	LÆ°u thÃ´ng tin mÃ³n Äƒn: tÃªn, calo, sá»‘ lÆ°á»£ng
Activity	LÆ°u hoáº¡t Ä‘á»™ng thá»ƒ cháº¥t vÃ  calo tiÃªu hao
4. TÃ³m táº¯t

Dá»± Ã¡n Calorie Tracker lÃ  sá»± káº¿t há»£p giá»¯a:

Kiáº¿n thá»©c y khoa vá» chuyá»ƒn hÃ³a nÄƒng lÆ°á»£ng.

CÃ´ng nghá»‡ theo dÃµi dá»¯ liá»‡u cÃ¡ nhÃ¢n (Flask + SQLAlchemy + JWT).

CÃ´ng thá»©c tÃ­nh BMR/TDEE/Net Calorie chuáº©n xÃ¡c.

Má»¥c tiÃªu cuá»‘i cÃ¹ng lÃ  giÃºp ngÆ°á»i dÃ¹ng láº­p káº¿ hoáº¡ch Äƒn uá»‘ng vÃ  váº­n Ä‘á»™ng há»£p lÃ½, dá»±a trÃªn cÆ¡ sá»Ÿ y khoa, an toÃ n vÃ  cÃ¡ nhÃ¢n hÃ³a.